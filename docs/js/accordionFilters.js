"use strict";(self.webpackChunkcore_bundler=self.webpackChunkcore_bundler||[]).push([[138,209],{127:(u,l,c)=>{c.r(l),c.d(l,{createInstance:()=>i,default:()=>h});var r=c(281);class h extends r.default{constructor(n){super(n)}setOptions(){this.options.selectors={buttonAttribute:"accordion-button",contentAttribute:"accordion-content",activeClass:"active"},this.options.settings={closeOthers:!1,toggleCurrent:!1,filtersSelect:!0,defaultElementId:""}}}function i(){return new h}},281:(u,l,c)=>{c.r(l),c.d(l,{createInstance:()=>s,default:()=>i});var r=c(712);class h{constructor(t,e,a){this.node=t,this.selectAttribute=e,this.categoriesAttribute=a,this.select=this.node.querySelector(`[${this.selectAttribute}]`),this.categories=Array.from(this.node.querySelectorAll(`[${this.categoriesAttribute}]`)),this.data=this.getData(),this.select!=null&&this.addListener()}addListener(){this.select.addEventListener("change",t=>{this.onChange(t.currentTarget)})}getData(){let t=[];return this.categories.forEach(e=>{t.push({node:e,categories:e.getAttribute(this.categoriesAttribute).replace(/\s/g,"").split(",")})}),t}onChange(t){this.currentSelection=t.options[t.selectedIndex].value,this.currentSelection!=="0"?this.filterCategory():this.reset()}filterCategory(){let t=[];this.data.forEach(e=>{e.node.style.display="none",e.categories.find(o=>o===this.currentSelection)!==void 0&&t.push(e)}),t.forEach(e=>e.node.style.display="block")}reset(){this.data.forEach(t=>t.node.style.display="block")}}class i extends r.Z{constructor(t){super(t)}init(){this.setup(),typeof this.settings.defaultElementId=="number"&&this.settings.defaultElementId<=this.buttons.length&&(this.contentHeight=this.getHeight(this.contents[this.settings.defaultElementId]),this.open(this.buttons[this.settings.defaultElementId],this.contents[this.settings.defaultElementId])),this.settings.filtersSelect&&(this.filtersSelect=new h(this.node,this.selectors.filtersSelect.select,this.selectors.filtersSelect.category))}setup(){this.selectors={buttonAttribute:"accordion-button",contentAttribute:"accordion-content",filtersSelect:{select:"data-accordion-select",category:"data-accordion-cat"},activeClass:"active"},this.settings={closeOthers:!1,toggleCurrent:!1,defaultElementId:0,filtersSelect:!1,animations:!1},this.options.selectors&&(this.selectors=Object.assign(this.selectors,this.options.selectors)),this.options.settings&&(this.settings=Object.assign(this.settings,this.options.settings)),this.buttons=Array.from(this.node.querySelectorAll(`[${this.selectors.buttonAttribute}]`)),this.contents=Array.from(this.node.querySelectorAll(`[${this.selectors.contentAttribute}]`)),this.addListeners(),this.ready()}addListeners(){this.buttons.forEach(t=>{t.addEventListener("click",this.onClick.bind(this))}),window.addEventListener("resize",this.onResize.bind(this))}onClick(t){const e=t.currentTarget;!e||(this.currentId=e.getAttribute(this.selectors.buttonAttribute),e.classList.contains(this.selectors.activeClass)?this.settings.toggleCurrent||this.close(e,this.contents[this.currentId]):(this.reset(),this.setActive(e)))}setActive(t){this.contents.forEach(e=>{const o=e.getAttribute(this.selectors.contentAttribute)===this.currentId,d=t.classList.contains(this.selectors.activeClass);!(o&&!d)||(this.contentHeight=this.getHeight(e),this.open(t,e))})}reset(){this.buttons.forEach((t,e)=>{const a=t.getAttribute(this.selectors.buttonAttribute)!==this.currentId;!(t.classList.contains(this.selectors.activeClass)&&a)||(this.contentHeight=this.getHeight(this.contents[e]),this.settings.closeOthers&&this.close(t,this.contents[e]))})}getHeight(t){if(t!==null)return t.style.height="auto",t.style.display="block",t.offsetHeight!==0?t.offsetHeight:this.contentHeight}open(t,e){this.onOpen(e),t.classList.add(this.selectors.activeClass),e.classList.add(this.selectors.activeClass)}close(t,e){this.onClose(e),t.classList.remove(this.selectors.activeClass),e.classList.remove(this.selectors.activeClass)}onOpen(t){if(!this.settings.animations){t.style.height=this.contentHeight;return}this.onCompleteAnim=!1,this.gsap.set(t,{height:0}),this.gsap.to(t,.4,{height:this.contentHeight,ease:Power2.easeOut,onComplete:()=>{this.onCompleteAnim=!0}})}onClose(t){if(!this.settings.animations){t.style.height=0;return}this.onCompleteAnim=!1,this.gsap.to(t,.4,{height:0,ease:Power2.easeOut,onComplete:()=>{this.onCompleteAnim=!0}})}onResize(){const t=this.node.querySelector(`[${this.selectors.contentAttribute}="${this.currentId}"]`);!t||(this.contentHeight=this.getHeight(t),t.style.height=this.contentHeight)}}function s(){return new i}},712:(u,l,c)=>{c.d(l,{Z:()=>h});var r=c(976);class h extends r.Z{constructor(s){super(s)}bind(s,n,t,e){this.node=s,this.name=n,this.options=t!==null?t:{selectors:"",settings:""},this.setOptions(),this.init()}setOptions(){}init(){}ready(){const s=Date.now();setTimeout(()=>this.trigger("ready",[s]),1e-6)}}},976:(u,l,c)=>{c.d(l,{Z:()=>r});class r{constructor(){this.callbacks={},this.callbacks.base={}}on(i,s){return typeof i=="undefined"||i===""?(console.warn("wrong names"),!1):typeof s=="undefined"?(console.warn("wrong callback"),!1):(this.resolveNames(i).forEach(t=>{const e=this.resolveName(t);this.callbacks[e.namespace]instanceof Object||(this.callbacks[e.namespace]={}),this.callbacks[e.namespace][e.value]instanceof Array||(this.callbacks[e.namespace][e.value]=[]),this.callbacks[e.namespace][e.value].push(s)}),this)}off(i){return typeof i=="undefined"||i===""?(console.warn("wrong name"),!1):(this.resolveNames(i).forEach(n=>{const t=this.resolveName(n);if(t.namespace!=="base"&&t.value==="")delete this.callbacks[t.namespace];else if(t.namespace==="base")for(const e in this.callbacks)this.callbacks[e]instanceof Object&&this.callbacks[e][t.value]instanceof Array&&(delete this.callbacks[e][t.value],Object.keys(this.callbacks[e]).length===0&&delete this.callbacks[e]);else this.callbacks[t.namespace]instanceof Object&&this.callbacks[t.namespace][t.value]instanceof Array&&(delete this.callbacks[t.namespace][t.value],Object.keys(this.callbacks[t.namespace]).length===0&&delete this.callbacks[t.namespace])}),this)}trigger(i,s){if(typeof i=="undefined"||i==="")return console.warn("wrong name"),!1;let n=null,t=null;const e=s instanceof Array?s:[];let a=this.resolveNames(i);if(a=this.resolveName(a[0]),a.namespace==="base")for(const o in this.callbacks)this.callbacks[o]instanceof Object&&this.callbacks[o][a.value]instanceof Array&&this.callbacks[o][a.value].forEach(function(d){t=d.apply(this,e),typeof n=="undefined"&&(n=t)});else if(this.callbacks[a.namespace]instanceof Object){if(a.value==="")return console.warn("wrong name"),this;this.callbacks[a.namespace][a.value].forEach(function(o){t=o.apply(this,e),typeof n=="undefined"&&(n=t)})}return n}resolveNames(i){let s=i;return s=s.replace(/[^a-zA-Z0-9 ,/.]/g,""),s=s.replace(/[,/]+/g," "),s=s.split(" "),s}resolveName(i){const s={},n=i.split(".");return s.original=i,s.value=n[0],s.namespace="base",n.length>1&&n[1]!==""&&(s.namespace=n[1]),s}}}}]);

//# sourceMappingURL=accordionFilters.js.map