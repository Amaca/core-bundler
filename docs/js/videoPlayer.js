"use strict";(self.webpackChunkcore_bundler=self.webpackChunkcore_bundler||[]).push([[24],{712:(f,o,r)=>{r.d(o,{Z:()=>h});var d=r(976);class h extends d.Z{constructor(e){super(e)}bind(e,i,t,s){this.node=e,this.name=i,this.options=t!==null?t:{selectors:"",settings:""},this.setOptions(),this.init()}setOptions(){}init(){}ready(){const e=Date.now();setTimeout(()=>this.trigger("ready",[e]),1e-6)}}},692:(f,o,r)=>{r.r(o),r.d(o,{VideoPlayerModule:()=>i,createInstance:()=>t});var d=r(712),h=r(976),n=r(984);class e extends h.Z{constructor(a){super(),this.node=a,this.data=JSON.parse(a.getAttribute("data-embed")),this.loaded(),this.switchCase()}switchCase(){switch(this.data.type){case"form":this.addScript(this.data.url,this.initForm);break;case"video":this.addIframe(this.data.url,this.initVideo);break}}initForm(){const a="id-"+this.data.settings.portalId,l=Object.assign(this.data.settings,{target:"#"+a});this.node.setAttribute("id",a),window.hbspt.forms.create(l),document.getElementsByName("url_last_submission")[0]&&(document.getElementsByName("url_last_submission")[0].value=document.location.href)}initVideo(){}addScript(a,l){const c=document.createElement("script");c.setAttribute("charset","utf-8"),c.setAttribute("type","text/javascript"),c.setAttribute("src",a),c.onload=l.bind(this),this.node.appendChild(c)}addIframe(a,l){const c=document.createElement("iframe");Object.keys(this.data.settings).map(u=>{let m=this.data.settings[u];return{name:u,value:Array.isArray(m)?m.join(";"):m}}).forEach(u=>{c.setAttribute(u.name,u.value)}),c.setAttribute("src",a),c.onload=l.bind(this),this.node.appendChild(c)}loaded(){n.Z.debug("LazyEmbed",this.data.type+" loaded"),this.trigger("lazyEmbedLoaded")}}class i extends d.Z{constructor(a){super(a)}init(){this.lazyEmbed=new e(this.node.querySelector("[data-embed]")),this.ready()}}function t(){return new i}},976:(f,o,r)=>{r.d(o,{Z:()=>d});class d{constructor(){this.callbacks={},this.callbacks.base={}}on(n,e){return typeof n=="undefined"||n===""?(console.warn("wrong names"),!1):typeof e=="undefined"?(console.warn("wrong callback"),!1):(this.resolveNames(n).forEach(t=>{const s=this.resolveName(t);this.callbacks[s.namespace]instanceof Object||(this.callbacks[s.namespace]={}),this.callbacks[s.namespace][s.value]instanceof Array||(this.callbacks[s.namespace][s.value]=[]),this.callbacks[s.namespace][s.value].push(e)}),this)}off(n){return typeof n=="undefined"||n===""?(console.warn("wrong name"),!1):(this.resolveNames(n).forEach(i=>{const t=this.resolveName(i);if(t.namespace!=="base"&&t.value==="")delete this.callbacks[t.namespace];else if(t.namespace==="base")for(const s in this.callbacks)this.callbacks[s]instanceof Object&&this.callbacks[s][t.value]instanceof Array&&(delete this.callbacks[s][t.value],Object.keys(this.callbacks[s]).length===0&&delete this.callbacks[s]);else this.callbacks[t.namespace]instanceof Object&&this.callbacks[t.namespace][t.value]instanceof Array&&(delete this.callbacks[t.namespace][t.value],Object.keys(this.callbacks[t.namespace]).length===0&&delete this.callbacks[t.namespace])}),this)}trigger(n,e){if(typeof n=="undefined"||n==="")return console.warn("wrong name"),!1;let i=null,t=null;const s=e instanceof Array?e:[];let a=this.resolveNames(n);if(a=this.resolveName(a[0]),a.namespace==="base")for(const l in this.callbacks)this.callbacks[l]instanceof Object&&this.callbacks[l][a.value]instanceof Array&&this.callbacks[l][a.value].forEach(function(c){t=c.apply(this,s),typeof i=="undefined"&&(i=t)});else if(this.callbacks[a.namespace]instanceof Object){if(a.value==="")return console.warn("wrong name"),this;this.callbacks[a.namespace][a.value].forEach(function(l){t=l.apply(this,s),typeof i=="undefined"&&(i=t)})}return i}resolveNames(n){let e=n;return e=e.replace(/[^a-zA-Z0-9 ,/.]/g,""),e=e.replace(/[,/]+/g," "),e=e.split(" "),e}resolveName(n){const e={},i=n.split(".");return e.original=n,e.value=i[0],e.namespace="base",i.length>1&&i[1]!==""&&(e.namespace=i[1]),e}}}}]);

//# sourceMappingURL=videoPlayer.js.map