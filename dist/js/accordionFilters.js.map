{"version":3,"file":"accordionFilters.js","mappings":"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","sources":["webpack://core-bundler/./src/app/modules/accordion/accordion.filters.js","webpack://core-bundler/./src/app/modules/accordion/accordion.selectFilters.js","webpack://core-bundler/./src/app/modules/accordion/accordion.js","webpack://core-bundler/./src/app/modules/module.js","webpack://core-bundler/./src/app/shared/EventEmitter.js"],"sourcesContent":["import AccordionModule from './accordion.js'\r\nimport './accordion.scss';\r\n\r\nexport default class AccordionFiltersModule extends AccordionModule {\r\n\r\n\tconstructor(el) {\r\n\t\tsuper(el);\r\n\t}\r\n\r\n\tsetOptions() {\r\n\t\tthis.options.selectors = {\r\n\t\t\tbuttonAttribute: 'accordion-button',\r\n\t\t\tcontentAttribute: 'accordion-content',\r\n\t\t\tactiveClass: 'active'\r\n\t\t};\r\n\r\n\t\tthis.options.settings = {\r\n\t\t\tcloseOthers: false,\r\n\t\t\ttoggleCurrent: false,\r\n\t\t\tfiltersSelect: true,\r\n\t\t\tdefaultElementId: ''\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createInstance() {\r\n\tconst instance = new AccordionFiltersModule();\r\n\treturn instance;\r\n}\r\n","\r\nexport default class AccordionSelectFilters {\r\n\r\n\tconstructor(node, selectAttribute, categoriesAttribute) {\r\n\t\tthis.node = node;\r\n\t\tthis.selectAttribute = selectAttribute;\r\n\t\tthis.categoriesAttribute = categoriesAttribute;\r\n\t\tthis.select = this.node.querySelector(`[${this.selectAttribute}]`)\r\n\t\tthis.categories = Array.from(this.node.querySelectorAll(`[${this.categoriesAttribute}]`));\r\n\r\n\t\tthis.data = this.getData();\r\n\t\t\r\n\r\n\t\tif (this.select != undefined) {\r\n\t\t\tthis.addListener();\r\n\t\t}\r\n\t}\r\n\r\n\taddListener() {\r\n\t\tthis.select.addEventListener('change', (e) => {\r\n\t\t\tthis.onChange(e.currentTarget)\r\n\t\t});\r\n\t}\r\n\r\n\tgetData() {\r\n\t\tlet filteredArray = [];\r\n\t\tthis.categories.forEach(category => {\r\n\t\t\tfilteredArray.push({\r\n\t\t\t\tnode: category,\r\n\t\t\t\tcategories: category.getAttribute(this.categoriesAttribute).replace(/\\s/g, '').split(',')\r\n\t\t\t})\r\n\t\t})\r\n\t\treturn filteredArray;\r\n\t}\r\n\r\n\tonChange(node) {\r\n\t\tthis.currentSelection = node.options[node.selectedIndex].value;\r\n\t\tif (this.currentSelection !== '0') {\r\n\t\t\tthis.filterCategory();\r\n\t\t} else {\r\n\t\t\tthis.reset();\r\n\t\t}\r\n\t}\r\n\r\n\tfilterCategory() {\r\n\t\tlet selectedElements = [];\r\n\t\tthis.data.forEach(item => {\r\n\t\t\titem.node.style.display = 'none';\r\n\t\t\tconst findCat = item.categories.find(x => {\r\n\t\t\t\treturn x === this.currentSelection;\r\n\t\t\t})\r\n\t\t\tif(findCat !== undefined) {\r\n\t\t\t\tselectedElements.push(item)\r\n\t\t\t}\r\n\t\t})\r\n\t\tselectedElements.forEach(item => item.node.style.display = 'block');\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.data.forEach(item => item.node.style.display = 'block');\r\n\t}\r\n}\r\n","import Module from '../module.js';\r\nimport AccordionSelectFilters from \"./accordion.selectFilters.js\";\r\n\r\nimport './accordion.scss';\r\n\r\nexport default class AccordionModule extends Module {\r\n\r\n\tconstructor(el) {\r\n\t\tsuper(el);\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.setup();\r\n\t\tif (typeof(this.settings.defaultElementId) === 'number' && this.settings.defaultElementId <= this.buttons.length) {\r\n\t\t\tthis.contentHeight = this.getHeight(this.contents[this.settings.defaultElementId]);\r\n\t\t\tthis.open(this.buttons[this.settings.defaultElementId], this.contents[this.settings.defaultElementId]);\r\n\t\t}\r\n\t\tif(this.settings.filtersSelect) {\r\n\t\t\tthis.filtersSelect = new AccordionSelectFilters(\r\n\t\t\t\tthis.node,\r\n\t\t\t\tthis.selectors.filtersSelect.select,\r\n\t\t\t\tthis.selectors.filtersSelect.category\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tsetup() {\r\n\t\t//default selectors\r\n\t\tthis.selectors = {\r\n\t\t\tbuttonAttribute: 'accordion-button',\r\n\t\t\tcontentAttribute: 'accordion-content',\r\n\t\t\tfiltersSelect: {\r\n\t\t\t\tselect: 'data-accordion-select',\r\n\t\t\t\tcategory: 'data-accordion-cat'\r\n\t\t\t},\r\n\t\t\tactiveClass: 'active',\r\n\t\t};\r\n\r\n\t\t//default settings\r\n\t\tthis.settings = {\r\n\t\t\tcloseOthers: false,\r\n\t\t\ttoggleCurrent: false,\r\n\t\t\tdefaultElementId: 0,\r\n\t\t\tfiltersSelect: false,\r\n\t\t\tanimations: false //import gsap\r\n\t\t}\r\n\r\n\t\tif (this.options.selectors) { // assign custom selectors\r\n\t\t\tthis.selectors = Object.assign(this.selectors, this.options.selectors);\r\n\t\t}\r\n\r\n\t\tif(this.options.settings) { // assign custom settings\r\n\t\t\tthis.settings = Object.assign(this.settings, this.options.settings);\r\n\t\t}\r\n\r\n\t\t//import gsap 3.0 for animations: https://greensock.com/docs/v3/GSAP and uncomment lines:\r\n\t\t//if (this.settings.animations) {\r\n\t\t\t//this.gsap = gsap; \r\n\t\t\t//this.onCompleteAnim;\r\n\t\t//}\r\n\r\n\t\tthis.buttons = Array.from(this.node.querySelectorAll(`[${this.selectors.buttonAttribute}]`));\r\n\t\tthis.contents = Array.from(this.node.querySelectorAll(`[${this.selectors.contentAttribute}]`));\r\n\t\t\r\n\t\tthis.addListeners();\r\n\t\tthis.ready();\r\n\t}\r\n\r\n\taddListeners() {\r\n\t\tthis.buttons.forEach(button => {\r\n\t\t\tbutton.addEventListener('click', this.onClick.bind(this));\r\n\t\t});\r\n\t\twindow.addEventListener('resize', this.onResize.bind(this));\r\n\t}\r\n\r\n\tonClick(e) {\r\n\t\tconst button = e.currentTarget;\r\n\t\tif(!button) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.currentId = button.getAttribute(this.selectors.buttonAttribute);\r\n\t\t\r\n\t\t//set active button or close the current active button\r\n\t\tif (!button.classList.contains(this.selectors.activeClass)) {\r\n\t\t\tthis.reset();\r\n\t\t\tthis.setActive(button);\r\n\t\t} else if (!this.settings.toggleCurrent) {\r\n\t\t\tthis.close(button, this.contents[this.currentId]);\r\n\t\t}\r\n\t}\r\n\r\n\tsetActive(button) {\r\n\t\tthis.contents.forEach(content => {\r\n\t\t\tconst contentId = content.getAttribute(this.selectors.contentAttribute);\r\n\t\t\tconst isCurrent = contentId === this.currentId;\r\n\t\t\tconst hasActive = button.classList.contains(this.selectors.activeClass);\r\n\t\t\tif (!(isCurrent && !hasActive)) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.contentHeight = this.getHeight(content);\r\n\t\t\tthis.open(button, content);\r\n\t\t})\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.buttons.forEach((button, i) => {\r\n\t\t\tconst isOpen = button.getAttribute(this.selectors.buttonAttribute) !== this.currentId;\r\n\t\t\tconst hasActive = button.classList.contains(this.selectors.activeClass);\r\n\t\t\tif (!(hasActive && isOpen)) {\r\n\t\t\t\treturn\r\n\t\t\t} \r\n\t\t\tthis.contentHeight = this.getHeight(this.contents[i]);\r\n\t\t\t\r\n\t\t\t//close other panels on click\r\n\t\t\tif (this.settings.closeOthers) { \r\n\t\t\t\tthis.close(button, this.contents[i]);\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\tgetHeight(elem) {\r\n\t\tif(elem !== null){\r\n\t\t\telem.style.height = 'auto';\r\n\t\t\telem.style.display = 'block';\r\n\t\t\treturn elem.offsetHeight !== 0 ? elem.offsetHeight : this.contentHeight;\r\n\t\t} else return\r\n\t}\r\n\r\n\topen(button, content) {\r\n\t\tthis.onOpen(content);\r\n\t\t//console.log('open ', this.selectors.activeClass);\r\n\t\tbutton.classList.add(this.selectors.activeClass);\r\n\t\tcontent.classList.add(this.selectors.activeClass);\r\n\t}\r\n\r\n\tclose(button, content) {\r\n\t\tthis.onClose(content);\r\n\t\t//console.log('close ', this.selectors.activeClass);\r\n\t\tbutton.classList.remove(this.selectors.activeClass);\r\n\t\tcontent.classList.remove(this.selectors.activeClass);\r\n\t}\r\n\r\n\tonOpen(elem) {\r\n\t\tif (!this.settings.animations) {\r\n\t\t\telem.style.height = this.contentHeight;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//gsap animation\r\n\t\tthis.onCompleteAnim = false;\r\n\t\tthis.gsap.set(elem, { height: 0 });\r\n\t\tthis.gsap.to(elem, 0.4, {\r\n\t\t\theight: this.contentHeight,\r\n\t\t\tease: Power2.easeOut,\r\n\t\t\tonComplete: () => {\r\n\t\t\t\tthis.onCompleteAnim = true;\r\n\t\t\t}\r\n\t\t});\t\r\n\t}\r\n\r\n\tonClose(elem) {\r\n\t\tif (!this.settings.animations) {\r\n\t\t\telem.style.height = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//gsap animation\r\n\t\tthis.onCompleteAnim = false;\r\n\t\tthis.gsap.to(elem, 0.4, {\r\n\t\t\theight: 0,\r\n\t\t\tease: Power2.easeOut,\r\n\t\t\tonComplete: () => {\r\n\t\t\t\tthis.onCompleteAnim = true;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonResize() {\r\n\t\tconst content = this.node.querySelector(`[${this.selectors.contentAttribute}=\"${this.currentId}\"]`);\r\n\t\tif (!content) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t    this.contentHeight = this.getHeight(content);\r\n\t\tcontent.style.height = this.contentHeight;\r\n\t}\r\n}\r\n\r\nexport function createInstance() {\r\n\tconst instance = new AccordionModule();\r\n\treturn instance;\r\n}","import EventEmitter from '../shared/EventEmitter.js';\nexport default class Module extends EventEmitter {\n\n\tconstructor(el) {\n\t\tsuper(el);\n\t}\n\n\tbind(node, name, options, time) {\n\t\tthis.node = node;\n\t\tthis.name = name;\n\t\tthis.options = options !== null ? options : {selectors: '', settings: ''};\n\t\t\n\t\tthis.setOptions();\n\t\tthis.init();\n\t}\n\n\tsetOptions() {}\n\n\tinit() {}\n\n\tready() {\n\t\tconst endingTime = Date.now();\n\t\tsetTimeout(() => this.trigger('ready', [endingTime]), 0.000001);\n\t}\n}\n","export default class EventEmitter\n{\n    constructor()\n    {\n        this.callbacks = {}\n        this.callbacks.base = {}\n    }\n\n    on(_names, callback)\n    {\n        // Errors\n        if(typeof _names === 'undefined' || _names === '')\n        {\n            console.warn('wrong names')\n            return false\n        }\n\n        if(typeof callback === 'undefined')\n        {\n            console.warn('wrong callback')\n            return false\n        }\n\n        // Resolve names\n        const names = this.resolveNames(_names)\n\n        // Each name\n        names.forEach((_name) =>\n        {\n            // Resolve name\n            const name = this.resolveName(_name)\n\n            // Create namespace if not exist\n            if(!(this.callbacks[ name.namespace ] instanceof Object))\n                this.callbacks[ name.namespace ] = {}\n\n            // Create callback if not exist\n            if(!(this.callbacks[ name.namespace ][ name.value ] instanceof Array))\n                this.callbacks[ name.namespace ][ name.value ] = []\n\n            // Add callback\n            this.callbacks[ name.namespace ][ name.value ].push(callback)\n        })\n\n        return this\n    }\n\n    off(_names)\n    {\n        // Errors\n        if(typeof _names === 'undefined' || _names === '')\n        {\n            console.warn('wrong name')\n            return false\n        }\n\n        // Resolve names\n        const names = this.resolveNames(_names)\n\n        // Each name\n        names.forEach((_name) =>\n        {\n            // Resolve name\n            const name = this.resolveName(_name)\n\n            // Remove namespace\n            if(name.namespace !== 'base' && name.value === '')\n            {\n                delete this.callbacks[ name.namespace ]\n            }\n\n            // Remove specific callback in namespace\n            else\n            {\n                // Default\n                if(name.namespace === 'base')\n                {\n                    // Try to remove from each namespace\n                    for(const namespace in this.callbacks)\n                    {\n                        if(this.callbacks[ namespace ] instanceof Object && this.callbacks[ namespace ][ name.value ] instanceof Array)\n                        {\n                            delete this.callbacks[ namespace ][ name.value ]\n\n                            // Remove namespace if empty\n                            if(Object.keys(this.callbacks[ namespace ]).length === 0)\n                                delete this.callbacks[ namespace ]\n                        }\n                    }\n                }\n\n                // Specified namespace\n                else if(this.callbacks[ name.namespace ] instanceof Object && this.callbacks[ name.namespace ][ name.value ] instanceof Array)\n                {\n                    delete this.callbacks[ name.namespace ][ name.value ]\n\n                    // Remove namespace if empty\n                    if(Object.keys(this.callbacks[ name.namespace ]).length === 0)\n                        delete this.callbacks[ name.namespace ]\n                }\n            }\n        })\n\n        return this\n    }\n\n    trigger(_name, _args)\n    {\n        // Errors\n        if(typeof _name === 'undefined' || _name === '')\n        {\n            console.warn('wrong name')\n            return false\n        }\n\n        let finalResult = null\n        let result = null\n\n        // Default args\n        const args = !(_args instanceof Array) ? [] : _args\n\n        // Resolve names (should on have one event)\n        let name = this.resolveNames(_name)\n\n        // Resolve name\n        name = this.resolveName(name[ 0 ])\n\n        // Default namespace\n        if(name.namespace === 'base')\n        {\n            // Try to find callback in each namespace\n            for(const namespace in this.callbacks)\n            {\n                if(this.callbacks[ namespace ] instanceof Object && this.callbacks[ namespace ][ name.value ] instanceof Array)\n                {\n                    this.callbacks[ namespace ][ name.value ].forEach(function(callback)\n                    {\n                        result = callback.apply(this, args)\n\n                        if(typeof finalResult === 'undefined')\n                        {\n                            finalResult = result\n                        }\n                    })\n                }\n            }\n        }\n\n        // Specified namespace\n        else if(this.callbacks[ name.namespace ] instanceof Object)\n        {\n            if(name.value === '')\n            {\n                console.warn('wrong name')\n                return this\n            }\n\n            this.callbacks[ name.namespace ][ name.value ].forEach(function(callback)\n            {\n                result = callback.apply(this, args)\n\n                if(typeof finalResult === 'undefined')\n                    finalResult = result\n            })\n        }\n\n        return finalResult\n    }\n\n    resolveNames(_names)\n    {\n        let names = _names\n        names = names.replace(/[^a-zA-Z0-9 ,/.]/g, '')\n        names = names.replace(/[,/]+/g, ' ')\n        names = names.split(' ')\n\n        return names\n    }\n\n    resolveName(name)\n    {\n        const newName = {}\n        const parts = name.split('.')\n\n        newName.original  = name\n        newName.value     = parts[ 0 ]\n        newName.namespace = 'base' // Base namespace\n\n        // Specified namespace\n        if(parts.length > 1 && parts[ 1 ] !== '')\n        {\n            newName.namespace = parts[ 1 ]\n        }\n\n        return newName\n    }\n}"],"names":["AccordionFiltersModule","AccordionModule","constructor","el","super","setOptions","this","options","selectors","buttonAttribute","contentAttribute","activeClass","settings","closeOthers","toggleCurrent","filtersSelect","defaultElementId","createInstance","AccordionSelectFilters","node","selectAttribute","categoriesAttribute","select","querySelector","categories","Array","from","querySelectorAll","data","getData","undefined","addListener","addEventListener","e","onChange","currentTarget","filteredArray","forEach","category","push","getAttribute","replace","split","currentSelection","selectedIndex","value","filterCategory","reset","selectedElements","item","style","display","find","x","Module","init","setup","buttons","length","contentHeight","getHeight","contents","open","animations","Object","assign","addListeners","ready","button","onClick","bind","window","onResize","currentId","classList","contains","close","setActive","content","isCurrent","hasActive","i","isOpen","elem","height","offsetHeight","onOpen","add","onClose","remove","onCompleteAnim","gsap","set","to","ease","Power2","easeOut","onComplete","EventEmitter","name","time","endingTime","Date","now","setTimeout","trigger","callbacks","base","on","_names","callback","console","warn","resolveNames","_name","resolveName","namespace","off","keys","_args","finalResult","result","args","apply","names","newName","parts","original"],"sourceRoot":""}