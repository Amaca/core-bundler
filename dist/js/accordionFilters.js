"use strict";(self.webpackChunkcore_bundler=self.webpackChunkcore_bundler||[]).push([[138,209],{609:(t,e,s)=>{s.r(e),s.d(e,{createInstance:()=>a,default:()=>n});var i=s(3);class n extends i.default{constructor(t){super(t)}setOptions(){this.options.selectors={buttonAttribute:"accordion-button",contentAttribute:"accordion-content",activeClass:"active"},this.options.settings={closeOthers:!1,toggleCurrent:!1,filtersSelect:!0,defaultElementId:""}}}function a(){return new n}},3:(t,e,s)=>{s.r(e),s.d(e,{createInstance:()=>c,default:()=>a});var i=s(385);class n{constructor(t,e,s){this.node=t,this.selectAttribute=e,this.categoriesAttribute=s,this.select=this.node.querySelector(`[${this.selectAttribute}]`),this.categories=Array.from(this.node.querySelectorAll(`[${this.categoriesAttribute}]`)),this.data=this.getData(),null!=this.select&&this.addListener()}addListener(){this.select.addEventListener("change",(t=>{this.onChange(t.currentTarget)}))}getData(){let t=[];return this.categories.forEach((e=>{t.push({node:e,categories:e.getAttribute(this.categoriesAttribute).replace(/\s/g,"").split(",")})})),t}onChange(t){this.currentSelection=t.options[t.selectedIndex].value,"0"!==this.currentSelection?this.filterCategory():this.reset()}filterCategory(){let t=[];this.data.forEach((e=>{e.node.style.display="none",void 0!==e.categories.find((t=>t===this.currentSelection))&&t.push(e)})),t.forEach((t=>t.node.style.display="block"))}reset(){this.data.forEach((t=>t.node.style.display="block"))}}class a extends i.Z{constructor(t){super(t)}init(){this.setup(),"number"==typeof this.settings.defaultElementId&&this.settings.defaultElementId<=this.buttons.length&&(this.contentHeight=this.getHeight(this.contents[this.settings.defaultElementId]),this.open(this.buttons[this.settings.defaultElementId],this.contents[this.settings.defaultElementId])),this.settings.filtersSelect&&(this.filtersSelect=new n(this.node,this.selectors.filtersSelect.select,this.selectors.filtersSelect.category))}setup(){this.selectors={buttonAttribute:"accordion-button",contentAttribute:"accordion-content",filtersSelect:{select:"data-accordion-select",category:"data-accordion-cat"},activeClass:"active"},this.settings={closeOthers:!1,toggleCurrent:!1,defaultElementId:0,filtersSelect:!1,animations:!1},this.options.selectors&&(this.selectors=Object.assign(this.selectors,this.options.selectors)),this.options.settings&&(this.settings=Object.assign(this.settings,this.options.settings)),this.buttons=Array.from(this.node.querySelectorAll(`[${this.selectors.buttonAttribute}]`)),this.contents=Array.from(this.node.querySelectorAll(`[${this.selectors.contentAttribute}]`)),this.addListeners(),this.ready()}addListeners(){this.buttons.forEach((t=>{t.addEventListener("click",this.onClick.bind(this))})),window.addEventListener("resize",this.onResize.bind(this))}onClick(t){const e=t.currentTarget;e&&(this.currentId=e.getAttribute(this.selectors.buttonAttribute),e.classList.contains(this.selectors.activeClass)?this.settings.toggleCurrent||this.close(e,this.contents[this.currentId]):(this.reset(),this.setActive(e)))}setActive(t){this.contents.forEach((e=>{const s=e.getAttribute(this.selectors.contentAttribute)===this.currentId,i=t.classList.contains(this.selectors.activeClass);s&&!i&&(this.contentHeight=this.getHeight(e),this.open(t,e))}))}reset(){this.buttons.forEach(((t,e)=>{const s=t.getAttribute(this.selectors.buttonAttribute)!==this.currentId;t.classList.contains(this.selectors.activeClass)&&s&&(this.contentHeight=this.getHeight(this.contents[e]),this.settings.closeOthers&&this.close(t,this.contents[e]))}))}getHeight(t){return null!==t?(t.style.height="auto",t.style.display="block",0!==t.offsetHeight?t.offsetHeight:this.contentHeight):void 0}open(t,e){this.onOpen(e),t.classList.add(this.selectors.activeClass),e.classList.add(this.selectors.activeClass)}close(t,e){this.onClose(e),t.classList.remove(this.selectors.activeClass),e.classList.remove(this.selectors.activeClass)}onOpen(t){this.settings.animations?(this.onCompleteAnim=!1,this.gsap.set(t,{height:0}),this.gsap.to(t,.4,{height:this.contentHeight,ease:Power2.easeOut,onComplete:()=>{this.onCompleteAnim=!0}})):t.style.height=this.contentHeight}onClose(t){this.settings.animations?(this.onCompleteAnim=!1,this.gsap.to(t,.4,{height:0,ease:Power2.easeOut,onComplete:()=>{this.onCompleteAnim=!0}})):t.style.height=0}onResize(){const t=this.node.querySelector(`[${this.selectors.contentAttribute}="${this.currentId}"]`);t&&(this.contentHeight=this.getHeight(t),t.style.height=this.contentHeight)}}function c(){return new a}},385:(t,e,s)=>{s.d(e,{Z:()=>n});var i=s(506);class n extends i.Z{constructor(t){super(t)}bind(t,e,s,i){this.node=t,this.name=e,this.options=null!==s?s:{selectors:"",settings:""},this.setOptions(),this.init()}setOptions(){}init(){}ready(){const t=Date.now();setTimeout((()=>this.trigger("ready",[t])),1e-6)}}},506:(t,e,s)=>{s.d(e,{Z:()=>i});class i{constructor(){this.callbacks={},this.callbacks.base={}}on(t,e){return void 0===t||""===t?(console.warn("wrong names"),!1):void 0===e?(console.warn("wrong callback"),!1):(this.resolveNames(t).forEach((t=>{const s=this.resolveName(t);this.callbacks[s.namespace]instanceof Object||(this.callbacks[s.namespace]={}),this.callbacks[s.namespace][s.value]instanceof Array||(this.callbacks[s.namespace][s.value]=[]),this.callbacks[s.namespace][s.value].push(e)})),this)}off(t){return void 0===t||""===t?(console.warn("wrong name"),!1):(this.resolveNames(t).forEach((t=>{const e=this.resolveName(t);if("base"!==e.namespace&&""===e.value)delete this.callbacks[e.namespace];else if("base"===e.namespace)for(const t in this.callbacks)this.callbacks[t]instanceof Object&&this.callbacks[t][e.value]instanceof Array&&(delete this.callbacks[t][e.value],0===Object.keys(this.callbacks[t]).length&&delete this.callbacks[t]);else this.callbacks[e.namespace]instanceof Object&&this.callbacks[e.namespace][e.value]instanceof Array&&(delete this.callbacks[e.namespace][e.value],0===Object.keys(this.callbacks[e.namespace]).length&&delete this.callbacks[e.namespace])})),this)}trigger(t,e){if(void 0===t||""===t)return console.warn("wrong name"),!1;let s=null,i=null;const n=e instanceof Array?e:[];let a=this.resolveNames(t);if(a=this.resolveName(a[0]),"base"===a.namespace)for(const t in this.callbacks)this.callbacks[t]instanceof Object&&this.callbacks[t][a.value]instanceof Array&&this.callbacks[t][a.value].forEach((function(t){i=t.apply(this,n),void 0===s&&(s=i)}));else if(this.callbacks[a.namespace]instanceof Object){if(""===a.value)return console.warn("wrong name"),this;this.callbacks[a.namespace][a.value].forEach((function(t){i=t.apply(this,n),void 0===s&&(s=i)}))}return s}resolveNames(t){let e=t;return e=e.replace(/[^a-zA-Z0-9 ,/.]/g,""),e=e.replace(/[,/]+/g," "),e=e.split(" "),e}resolveName(t){const e={},s=t.split(".");return e.original=t,e.value=s[0],e.namespace="base",s.length>1&&""!==s[1]&&(e.namespace=s[1]),e}}}}]);
//# sourceMappingURL=accordionFilters.js.map