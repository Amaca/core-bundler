"use strict";(self.webpackChunkcore_bundler=self.webpackChunkcore_bundler||[]).push([[24],{385:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(506);class i extends a.Z{constructor(e){super(e)}bind(e,t,s,a){this.node=e,this.name=t,this.options=null!==s?s:{selectors:"",settings:""},this.setOptions(),this.init()}setOptions(){}init(){}ready(){const e=Date.now();setTimeout((()=>this.trigger("ready",[e])),1e-6)}}},121:(e,t,s)=>{s.r(t),s.d(t,{VideoPlayerModule:()=>l,createInstance:()=>r});var a=s(385),i=s(506),c=s(704);class n extends i.Z{constructor(e){super(),this.node=e,this.data=JSON.parse(e.getAttribute("data-embed")),this.loaded(),this.switchCase()}switchCase(){switch(this.data.type){case"form":this.addScript(this.data.url,this.initForm);break;case"video":this.addIframe(this.data.url,this.initVideo)}}initForm(){const e="id-"+this.data.settings.portalId,t=Object.assign(this.data.settings,{target:"#"+e});this.node.setAttribute("id",e),window.hbspt.forms.create(t),document.getElementsByName("url_last_submission")[0]&&(document.getElementsByName("url_last_submission")[0].value=document.location.href)}initVideo(){}addScript(e,t){const s=document.createElement("script");s.setAttribute("charset","utf-8"),s.setAttribute("type","text/javascript"),s.setAttribute("src",e),s.onload=t.bind(this),this.node.appendChild(s)}addIframe(e,t){const s=document.createElement("iframe");Object.keys(this.data.settings).map((e=>{let t=this.data.settings[e];return{name:e,value:Array.isArray(t)?t.join(";"):t}})).forEach((e=>{s.setAttribute(e.name,e.value)})),s.setAttribute("src",e),s.onload=t.bind(this),this.node.appendChild(s)}loaded(){c.Z.debug("LazyEmbed",this.data.type+" loaded"),this.trigger("lazyEmbedLoaded")}}class l extends a.Z{constructor(e){super(e)}init(){this.lazyEmbed=new n(this.node.querySelector("[data-embed]")),this.ready()}}function r(){return new l}},506:(e,t,s)=>{s.d(t,{Z:()=>a});class a{constructor(){this.callbacks={},this.callbacks.base={}}on(e,t){return void 0===e||""===e?(console.warn("wrong names"),!1):void 0===t?(console.warn("wrong callback"),!1):(this.resolveNames(e).forEach((e=>{const s=this.resolveName(e);this.callbacks[s.namespace]instanceof Object||(this.callbacks[s.namespace]={}),this.callbacks[s.namespace][s.value]instanceof Array||(this.callbacks[s.namespace][s.value]=[]),this.callbacks[s.namespace][s.value].push(t)})),this)}off(e){return void 0===e||""===e?(console.warn("wrong name"),!1):(this.resolveNames(e).forEach((e=>{const t=this.resolveName(e);if("base"!==t.namespace&&""===t.value)delete this.callbacks[t.namespace];else if("base"===t.namespace)for(const e in this.callbacks)this.callbacks[e]instanceof Object&&this.callbacks[e][t.value]instanceof Array&&(delete this.callbacks[e][t.value],0===Object.keys(this.callbacks[e]).length&&delete this.callbacks[e]);else this.callbacks[t.namespace]instanceof Object&&this.callbacks[t.namespace][t.value]instanceof Array&&(delete this.callbacks[t.namespace][t.value],0===Object.keys(this.callbacks[t.namespace]).length&&delete this.callbacks[t.namespace])})),this)}trigger(e,t){if(void 0===e||""===e)return console.warn("wrong name"),!1;let s=null,a=null;const i=t instanceof Array?t:[];let c=this.resolveNames(e);if(c=this.resolveName(c[0]),"base"===c.namespace)for(const e in this.callbacks)this.callbacks[e]instanceof Object&&this.callbacks[e][c.value]instanceof Array&&this.callbacks[e][c.value].forEach((function(e){a=e.apply(this,i),void 0===s&&(s=a)}));else if(this.callbacks[c.namespace]instanceof Object){if(""===c.value)return console.warn("wrong name"),this;this.callbacks[c.namespace][c.value].forEach((function(e){a=e.apply(this,i),void 0===s&&(s=a)}))}return s}resolveNames(e){let t=e;return t=t.replace(/[^a-zA-Z0-9 ,/.]/g,""),t=t.replace(/[,/]+/g," "),t=t.split(" "),t}resolveName(e){const t={},s=e.split(".");return t.original=e,t.value=s[0],t.namespace="base",s.length>1&&""!==s[1]&&(t.namespace=s[1]),t}}}}]);
//# sourceMappingURL=videoPlayer.js.map